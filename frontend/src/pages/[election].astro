---
export const prerender = false;

import { getElectionBySlug } from "../server/data/elections";
import { Election as ElectionComponent } from "../app/Election";
import Layout from "../layouts/Layout.astro";

const election = await getElectionBySlug(Astro.params.election!);

if (!election) {
  return new Response("Not found", { status: 404 });
}
---

<Layout>
  <ElectionComponent {...election} client:only />
</Layout>
